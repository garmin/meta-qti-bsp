From b0ea7e975550f606f50db2f3eac6e53745ded0d5 Mon Sep 17 00:00:00 2001
From: Lily Li <lali@codeaurora.org>
Date: Thu, 31 Oct 2019 15:58:18 +0800
Subject: [PATCH 1/3] ignore av_bsp segment error in wav header

cherry-pick from 1934035

Change-Id: Ia7a4bb14d067fb0e458ead302fb9705f2464bc92
Signed-off-by: Lily Li <lali@codeaurora.org>
---
 gst/wavparse/gstwavparse.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)
 mode change 100644 => 100755 gst/wavparse/gstwavparse.c

diff --git a/gst/wavparse/gstwavparse.c b/gst/wavparse/gstwavparse.c
old mode 100644
new mode 100755
index 3c11b27..1b6e1c5
--- a/gst/wavparse/gstwavparse.c
+++ b/gst/wavparse/gstwavparse.c
@@ -1213,7 +1213,8 @@ gst_wavparse_stream_headers (GstWavParse * wav)
         /* fall through */
       default:
         if (wav->av_bps > wav->blockalign * wav->rate)
-          goto invalid_bps;
+          wav->av_bps = wav->blockalign * wav->rate;
+          //goto invalid_bps;
         /* use the configured bps */
         wav->bps = wav->av_bps;
         break;
-- 
2.7.4

